/* ========== 1. Base Reset & Typography ========== */
*{box-sizing:border-box;margin:0;padding:0;}

body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
  background:#f2f2f7;color:#111;line-height:1.5;overflow-x:hidden;
}

h1,h2{font-weight:600;margin-bottom:1.5rem;}

/* ========== 2. Global Layout ========== */
.wrapper{display:flex;min-height:100vh;}
.main{flex:1;padding:2rem 3rem;overflow-x:hidden;}

/* ========== 3. Sidebar ========== */
.sidebar{
  width:240px;background:#fff;border-right:1px solid #e0e0e0;
  transition:width .3s ease;position:relative;
}
.sidebar.collapsed{width:80px;}
.sidebar .header{
  display:flex;align-items:center;justify-content:space-between;
  padding:.5rem .75rem;border-bottom:1px solid #e0e0e0;margin-bottom:.75rem;
}
.sidebar .header h2{font-size:1.25rem;font-weight:600;}
.sidebar.collapsed .header h2{display:none;}
.sidebar .toggle-btn{
  background:none;border:none;cursor:pointer;padding:.5rem;font-size:1.5rem;color:#333;
}

/* nav */
.sidebar nav{margin-top:.5rem;}
.sidebar nav ul{list-style:none;}
.sidebar nav ul li+li a{margin-top:.15rem;}
.sidebar nav ul li a{
  display:flex;align-items:center;padding:.25rem .5rem;
  color:#333;text-decoration:none;border-radius:8px;transition:background .2s ease;position:relative;
}
.sidebar nav ul li a:hover{background:#f0f0f5;}
.sidebar nav ul li a .icon{margin-right:.4rem;min-width:24px;min-height:24px;}
.sidebar.collapsed nav ul li a{justify-content:center;}
.sidebar.collapsed nav ul li a .label{display:none;}

/* tooltip */
.sidebar nav ul li a[title]:hover::after{
  content:attr(title);position:absolute;left:100%;top:50%;transform:translateY(-50%);
  background:#333;color:#fff;padding:4px 8px;border-radius:4px;white-space:nowrap;margin-left:8px;font-size:.85rem;
}

/* profile */
.sidebar .profile{display:flex;align-items:center;}
.sidebar .avatar,.avatar-small{border-radius:50%;object-fit:cover;}
.sidebar .avatar{width:40px;height:40px;margin-right:.75rem;}
.sidebar.collapsed .avatar{margin:0;}
.sidebar .username{font-weight:500;white-space:nowrap;}

/* ========== 4. Topbar ========== */
.topbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:.5rem 1rem;border-bottom:1px solid #e0e0e0;margin-bottom:1.5rem;
}
.topbar-left{display:flex;align-items:center;}
.topbar-logo-img{height:40px;object-fit:contain;}
.company-name{margin-left:.5rem;font-size:1.25rem;font-weight:600;}
.profile-right{display:flex;align-items:center;gap:.75rem;}
.greeting{font-size:.9rem;margin:0;}
.avatar-small{
  width:36px;height:36px;cursor:pointer;border:2px solid #fff;
  box-shadow:0 2px 6px rgba(0,0,0,.15);
}

/* dropdown */
.profile-dropdown{position:relative;}
.dropdown-menu{
  position:absolute;top:calc(100% + 6px);right:0;min-width:150px;background:#fff;
  border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,.08);
  display:none;flex-direction:column;overflow:hidden;
}
.dropdown-menu.visible{display:flex;}
.dropdown-menu a{
  padding:.75rem 1rem;color:#333;text-decoration:none;border-bottom:1px solid #f0f0f5;transition:background .2s;
}
.dropdown-menu a:last-child{border-bottom:none;}
.dropdown-menu a:hover{background:#f9f9fc;}

/* ========== 5. Dashboard Cards (default layout) ========== */
.cards{
  display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:2rem;
}
.card{
  background:#fff;padding:1.5rem;border-radius:12px;
  box-shadow:0 8px 24px rgba(0,0,0,.08);
  flex:1 1 calc(25% - 1rem);min-width:150px;text-align:center;
}
.card h3{margin-bottom:.75rem;font-size:1rem;color:#555;}
.card p{font-size:1.5rem;font-weight:600;}

/* ========== 6. Chart & Filters (default) ========== */
.chart-filters{
  display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem;
}
.chart-filters label{font-size:.9rem;display:flex;align-items:center;}
.chart-filters input{
  padding:.4rem .6rem;border:1px solid #ccc;border-radius:6px;margin-left:.3rem;
}
.chart-filters button,
button{
  padding:.5rem 1rem;border:none;background:#007aff;color:#fff;border-radius:8px;cursor:pointer;transition:background .3s ease;
}
.chart-filters button:hover,
button:hover{background:#005bb5;}
.chart-container{width:100%;max-width:900px;height:300px;margin:0 auto 2rem;}
#revenueChart{width:100%!important;height:100%!important;}

/* ========== 7. Forms & Invoice List ========== */
fieldset {
  background: #fff;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  border: 1px solid #e0e0e0;
}
legend              { font-weight: 600; }
input, textarea     {
  width: 100%;
  padding: 0.8rem;
  margin: 0.5rem 0 1rem;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 1rem;
}
.item-row           { display: flex; gap: 1rem; margin-bottom: 1rem; }
.small-input        { width: 80px; }
.medium-input       { width: 120px; }

ul      { list-style: none; padding-left: 0; }
li      {
  background: #fff;
  margin-bottom: 1rem;
  padding: 1rem;
  border-radius: 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
li a    { color: #007aff; text-decoration: none; }
li a:hover { text-decoration: underline; }

/* Invoice table */
.invoice-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1.5rem;
}
.invoice-table th,
.invoice-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid #e0e0e0;
}
.invoice-table th          { background: #f0f0f5; font-weight: 600; }
.invoice-table tr:hover td { background: #f9f9fc; }

/* Button‑style link for downloads */
.button {
  display: inline-block;
  padding: 0.5rem 1rem;
  background: #007aff;
  color: #fff;
  border-radius: 8px;
  text-decoration: none;
  transition: background 0.2s ease;
}
.button:hover { background: #005bb5; }

/* ========== 8. Login Page ========== */
.login-container {
  max-width: 360px;
  margin: 10vh auto;
  background: #fff;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.08);
}
.login-container h2      { text-align: center; margin-bottom: 1.5rem; }
.login-container input   { margin-bottom: 1rem; }
.login-container button  { width: 100%; }
.login-container .error  { color: #d33; text-align: center; margin-top: 1rem; }

/* ========== 9. Account / Profile Settings ========== */
.profile-settings {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 1.5rem;
  margin-top: 1rem;
}
.avatar-large { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; }

/* ========== 10. Logo Container ========== */
.logo-container {
  width: 180px;
  height: 80px;
  border: 1px solid #ccc;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #fff;
  margin: 0.5rem 0;
}
.logo-container img { max-width: 100%; max-height: 100%; object-fit: contain; }

/* ========== 11. Responsive Tweaks ========== */
@media (max-width: 768px) {
  .wrapper         { flex-direction: column; }
  .sidebar,
  .sidebar.collapsed {
    width: 100%;
    border-right: none;
    border-bottom: 1px solid #e0e0e0;
  }
  .main            { padding: 1rem; }
  .card            { flex: 1 1 100%; }
  .invoice-table th,
  .invoice-table td { padding: 0.5rem; }
}
/* ========== 8. Responsive baseline for whole app ========== */
@media(max-width:768px){
  .wrapper{flex-direction:column;}
  .sidebar,.sidebar.collapsed{width:100%;border-right:none;border-bottom:1px solid #e0e0e0;}
  .main{padding:1rem;}
  .card{flex:1 1 100%;}
  .invoice-table th,.invoice-table td{padding:.5rem;}
}

/* ------------------------------------------------------------------ */
/*                  DASHBOARD  ‑  COMPACT  NO‑SCROLL                   */
/*  (extra classes only affect .dash-layout view)                      */
/* ------------------------------------------------------------------ */

.main.dash-layout{padding:1rem 1.5rem;}
@media(min-width:1440px){.main.dash-layout{max-width:1300px;margin:0 auto;}}

.dash-layout{display:flex;flex-direction:column;height:100%;}
.dash-header{margin-bottom:.75rem;}
.dash-header h1{margin:0 0 .75rem;font-size:1.6rem;}

.stat-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:.5rem;
}
.tile{
  background:#fff;border-radius:10px;padding:.6rem .8rem;
  box-shadow:0 2px 6px rgba(0,0,0,.05);text-align:center;
}
.tile h3{font-size:.78rem;font-weight:500;color:#555;margin-bottom:.25rem;}
.tile p{font-size:1.1rem;font-weight:600;}

.dash-body{flex:1;display:flex;flex-direction:column;gap:.5rem;}
.filter-row{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;}
.filter-row input{padding:.25rem .4rem;}
#revenueChart{flex:1;max-height:none!important;}

/* …everything above this is unchanged … */

/* ------------------------------------------------------------------ */
/*   DASHBOARD COMPACT – extra rules                                   */
/* ------------------------------------------------------------------ */

.dash-layout   { display:flex; flex-direction:column; height:100%; padding:1rem 1.5rem; }
.stat-grid     { display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:.5rem; }
.tile          { background:#fff; border-radius:10px; padding:.6rem .8rem; box-shadow:0 2px 6px rgba(0,0,0,.05); text-align:center; }
.tile h3       { font-size:.78rem; font-weight:500; color:#555; margin-bottom:.25rem; }
.tile p        { font-size:1.1rem; font-weight:600; }

.dash-body     { flex:1; display:flex; flex-direction:column; gap:.75rem; }
.filter-row    { display:flex; flex-wrap:wrap; gap:.5rem; align-items:center; }
.filter-row input { padding:.25rem .4rem; }

/*  >>>  new wrapper stops infinite height growth  <<<  */
.chart-box     { height:360px; }          /* fixed container height */
#revenueChart  { width:100%!important; height:100%!important; }  /* fill wrapper */

@media(min-width:1440px){ .main.dash-layout{ max-width:1300px; margin:0 auto; } }

/* ===== Pagination links ===== */
.pagination{
  margin-top:1rem; display:flex; gap:.5rem; flex-wrap:wrap;
}
.pagination a{
  padding:.4rem .8rem; border:1px solid #e0e0e0; border-radius:6px;
  text-decoration:none; color:#333; font-size:.85rem;
}
.pagination a.current,
.pagination a:hover{
  background:#007aff; color:#fff; border-color:#007aff;
}

/* === nicer table & three‑dot menu (fits 10 rows w/o scroll) === */
.invoice-table.pretty{
  border-collapse:collapse; width:100%; margin-top:1rem;
  font-size:.9rem;
}
.invoice-table.pretty th,
.invoice-table.pretty td{
  padding:.55rem .9rem;           /* tighter rows → no scroll */
  border-bottom:1px solid #e0e0e0;
}
.invoice-table.pretty th{background:#f5f5f9;font-weight:600;}
.invoice-table.pretty tr:nth-child(even){background:#fafafb;}   /* zebra */
.invoice-table.pretty tr:hover{background:#f0f3ff;}

.actions{ position:relative; }
.dots{
  background:none; border:none; cursor:pointer; padding:.15rem;
}
.menu{
  position:absolute; top:100%; right:0; z-index:50;
  background:#ffffff; border:1px solid #e0e0e0; border-radius:6px;
  box-shadow:0 4px 12px rgba(0,0,0,.08); display:none; min-width:120px;
}
.menu.show{ display:block; }
.menu a{
  display:block; padding:.55rem .9rem; font-size:.85rem; color:#333; text-decoration:none;
}
.menu a:hover{ background:#f9f9fc; }

/* pagination links (already added earlier, keep or tweak) */
.pagination{ margin-top:1rem; display:flex; gap:.5rem; flex-wrap:wrap; }
.pagination a{
  padding:.35rem .75rem; border:1px solid #e0e0e0; border-radius:6px;
  text-decoration:none; color:#333; font-size:.8rem;
}
.pagination a.current,
.pagination a:hover{ background:#007aff; color:#fff; border-color:#007aff; }


/* ——— Three‑dot action button: black dots ——— */
.dots{
  background:none;
  border:none;
  cursor:pointer;
  padding:.15rem;
  line-height:0;          /* removes extra inline height */
}
.dots svg{
  width:18px;
  height:18px;
  stroke:#000;            /* solid black dots */
}
.dots:hover svg{
  stroke:#ffffff;         /* blue on hover to indicate clickability */
}
